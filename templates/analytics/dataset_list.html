{% extends 'analytics/base.html' %}

{% block title %}Datasets{% endblock %}

{% block content %}
<div class="flex justify-between items-center mb-6">
    <h1 class="text-2xl font-bold">Datasets</h1>
    <a href="{% url 'analytics:dataset_create' %}" class="btn-primary">Create New Dataset</a>
</div>
<ul class="space-y-4">
    {% for dataset in datasets %}
    <li class="dashboard-card p-4">
        <a href="{% url 'analytics:dataset_detail' dataset.uuid %}" class="text-lg font-semibold hover:underline">{{ dataset.title }}</a>
    </li>
    {% empty %}
    <li class="dashboard-card p-4">No datasets found.</li>
    {% endfor %}
</ul>
{% if is_paginated %}
<div class="mt-6">
    <nav>
        <ul class="flex justify-center space-x-2">
            {% if page_obj.has_previous %}
            <li><a href="?page=1" class="btn-primary">First</a></li>
            <li><a href="?page={{ page_obj.previous_page_number }}" class="btn-primary">Previous</a></li>
            {% endif %}
            <li class="px-3 py-1">{{ page_obj.number }}</li>
            {% if page_obj.has_next %}
            <li><a href="?page={{ page_obj.next_page_number }}" class="btn-primary">Next</a></li>
            <li><a href="?page={{ page_obj.paginator.num_pages }}" class="btn-primary">Last</a></li>
            {% endif %}
        </ul>
    </nav>
</div>
{% endif %}
{% endblock %}
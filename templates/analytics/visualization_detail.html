{% extends 'base.html' %}

{% block title %}{{ visualization.title }}{% endblock %}

{% block content %}
<div class="dashboard-card p-6">
    <h1 class="text-2xl font-bold">{{ visualization.title }}</h1>
    <div class="mt-4">
        <!-- Visualization canvas or display area -->
        <canvas id="visualizationChart"></canvas>
    </div>
    <div class="mt-4">
        
        <a href="{% url 'analytics:visualization_list' %}" class="btn-primary">Back to Visualizations</a>
    </div>
</div>

<script>
    // Assume visualization data is passed to the template
    const ctx = document.getElementById('visualizationChart').getContext('2d');
    const visualizationData = {{ visualization.data|safe }};
    const chart = new Chart(ctx, {
        type: 'bar', // Example type
        data: visualizationData,
        options: {
            responsive: true,
            plugins: {
                legend: {
                    display: true,
                    position: 'top',
                },
                title: {
                    display: true,
                    text: '{{ visualization.title }}',
                }
            }
        }
    });
</script>
{% endblock %}